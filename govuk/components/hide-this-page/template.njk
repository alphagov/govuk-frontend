{% from "../button/macro.njk" import govukButton %}
{% set currentTabURL = params.currentTabURL | default("http://www.google.com") -%}
{% set newTabURL = params.newTabURL | default("http://bbc.co.uk/weather") -%}
{% set text = params.text | default("Hide this page") -%}

<div {%- if params.id %} id="{{ params.id }}"{% endif %} class="govuk-hide-this-page {%- if params.classes %} {{ params.classes }}{% endif %}"
{%- for attribute, value in params.attributes %} {{attribute}}="{{value}}"{% endfor %}>
  <script>
    function govukHideThisPage() {
        window.open("{{newTabURL}}", "_newtab");
    }
  </script>
  <div class="govuk-hide-this-page__position">
    {{ govukButton({
      text: text,
      classes: "govuk-button--warning govuk-!-margin-bottom-0",
      href: currentTabURL,
      attributes: {
        onclick: "govukHideThisPage()"
      }
    }) }}
  </div>
</div>
