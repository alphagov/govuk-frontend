{"version":3,"file":"dataset.mjs","sources":["../../../../../../src/govuk/vendor/polyfills/Element/prototype/dataset.mjs"],"sourcesContent":["// @ts-nocheck\nimport '../../Object/defineProperty.mjs'\nimport '../../Element.mjs'\n\n(function(undefined) {\n\n  var detect = (function(){\n    if (!document.documentElement.dataset) {\n      return false;\n    }\n    var el = document.createElement('div');\n    el.setAttribute(\"data-a-b\", \"c\");\n    return el.dataset && el.dataset.aB == \"c\";\n  }())\n\n  if (detect) return\n\n  Object.defineProperty(Element.prototype, 'dataset', {\n    get: function() {\n      var element = this;\n      var attributes = this.attributes;\n      var map = {};\n\n      for (var i = 0; i < attributes.length; i++) {\n        var attribute = attributes[i];\n\n        // This regex has been edited from the original polyfill, to add\n        // support for period (.) separators in data-* attribute names. These\n        // are allowed in the HTML spec, but were not covered by the original\n        // polyfill's regex. We use periods in our i18n implementation.\n        if (attribute && attribute.name && (/^data-\\w[.\\w-]*$/).test(attribute.name)) {\n          var name = attribute.name;\n          var value = attribute.value;\n\n          var propName = name.substr(5).replace(/-./g, function (prop) {\n            return prop.charAt(1).toUpperCase();\n          });\n\n          // If this browser supports __defineGetter__ and __defineSetter__,\n          // continue using defineProperty. If not (like IE 8 and below), we use\n          // a hacky fallback which at least gives an object in the right format\n          if ('__defineGetter__' in Object.prototype && '__defineSetter__' in Object.prototype) {\n            Object.defineProperty(map, propName, {\n              enumerable: true,\n              get: function() {\n                return this.value;\n              }.bind({value: value || ''}),\n              set: function setter(name, value) {\n                if (typeof value !== 'undefined') {\n                  this.setAttribute(name, value);\n                } else {\n                  this.removeAttribute(name);\n                }\n              }.bind(element, name)\n            });\n          } else {\n            map[propName] = value\n          }\n\n        }\n      }\n\n      return map;\n    }\n  });\n\n}).call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});"],"names":[],"mappings":";;;AAAA;AACA,AAEA;AACA,CAAC,SAAS,SAAS,EAAE;;EAEnB,IAAI,MAAM,IAAI,UAAU;IACtB,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,OAAO,EAAE;MACrC,OAAO,KAAK,CAAC;KACd;IACD,IAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IACvC,EAAE,CAAC,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;IACjC,OAAO,EAAE,CAAC,OAAO,IAAI,EAAE,CAAC,OAAO,CAAC,EAAE,IAAI,GAAG,CAAC;GAC3C,EAAE,EAAC;;EAEJ,IAAI,MAAM,EAAE,MAAM;;EAElB,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,EAAE;IAClD,GAAG,EAAE,WAAW;MACd,IAAI,OAAO,GAAG,IAAI,CAAC;MACnB,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;MACjC,IAAI,GAAG,GAAG,EAAE,CAAC;;MAEb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QAC1C,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;;;;;;QAM9B,IAAI,SAAS,IAAI,SAAS,CAAC,IAAI,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;UAC5E,IAAI,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;UAC1B,IAAI,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;;UAE5B,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,UAAU,IAAI,EAAE;YAC3D,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;WACrC,CAAC,CAAC;;;;;UAKH,IAAI,kBAAkB,IAAI,MAAM,CAAC,SAAS,IAAI,kBAAkB,IAAI,MAAM,CAAC,SAAS,EAAE;YACpF,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,QAAQ,EAAE;cACnC,UAAU,EAAE,IAAI;cAChB,GAAG,EAAE,WAAW;gBACd,OAAO,IAAI,CAAC,KAAK,CAAC;eACnB,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,KAAK,IAAI,EAAE,CAAC,CAAC;cAC5B,GAAG,EAAE,SAAS,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE;gBAChC,IAAI,OAAO,KAAK,KAAK,WAAW,EAAE;kBAChC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;iBAChC,MAAM;kBACL,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;iBAC5B;eACF,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC;aACtB,CAAC,CAAC;WACJ,MAAM;YACL,GAAG,CAAC,QAAQ,CAAC,GAAG,MAAK;WACtB;;SAEF;OACF;;MAED,OAAO,GAAG,CAAC;KACZ;GACF,CAAC,CAAC;;CAEJ,EAAE,IAAI,CAAC,QAAQ,KAAK,OAAO,MAAM,IAAI,MAAM,IAAI,QAAQ,KAAK,OAAO,IAAI,IAAI,IAAI,IAAI,QAAQ,KAAK,OAAO,MAAM,IAAI,MAAM,IAAI,EAAE,CAAC"}